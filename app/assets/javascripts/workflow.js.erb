$(function(){
  var arr_id=[], arr_questions = [], arr_answers = [], arr_comments = [], arr_marks = [], 
  arr_li = [], start, i, num=0, num_i = 1, tab, str, text_a, id_but, id_num=[], num_li;

  <% interview = Interview.last %>
  <% interview.template.questions.each do |a| %>
    id_num.push(<%= a.id %>); // numbers ID
    num += 1;
  <% end %>
  <% st1 = InterviewQuestion.last %>
  start = <%= st1.id %> - num + 1;

 for(i=0;i<num;i++) {arr_comments[i] = ' '; arr_marks[i] =' ';}

  for(i=0;i<num;i++) { 
    arr_id.push(start);
    start+=1; 
  }

  start=arr_id[0];
  


  //for(i=0;i<num;i++)
    // { $('#interviewquestions_'+arr_id[i]+'_comment').val("No comment - "+i); }
  

  //alert('start='+start+', num='+num+' | arr= '+id_num);


   
  /*$('#workflow div form textarea').click(function() {
    //alert($(this).val());
    var ids = parseInt(String($(this).attr('id')).slice(4));
    if (ids == 1 && arr_comments[0] != ' ') { arr_comments[0]=String($('#comm'+id_num[0]).val());} 
    if (ids!=1) { arr_comments[num_i-1]=String($('#comm'+id_num[num_i-1]).val()); }
    
    for (i=0;i<id_num.length;i++) { if (ids==id_num[i]) num_i=i+1; }
    //alert('id='+num_i+' | arr='+arr_comments);
     });*/

  $('#workflow div.pagination ul li a:first').html('Prev');
  $('#workflow div.pagination ul li a:last').html('Next');
  
  
  /*$('#workflow div.pagination ul li a').on('click', function() {

    num_li=$('#workflow div.pagination ul li.active a').html();

    arr_comments[num_i-1]=String($('#comm'+id_num[num_i-1]).val());//enter comment and mark
   
   //alert(num_li.toString()+' | '+id_num);
    alert('id='+num_li+' | arr='+arr_comments);

    if (num_li=='Prev' && num_i>1) { num_i-=1; }
      else if (num_li=='Next' && num_i<num) { num_i+=1 }
        else if (num_li!='Next' && num_li!='Prev') { num_i=parseInt(num_li); }
          else {}

    $('#comm'+id_num[num_i-1]).html(arr_comments[num_i-1]); //get comment and mark
  }); */
  $('form[action="/interview_questions/update_multiple"]').submit(function(event) {
    for(i=0;i<num;i++) {
         $('#interviewquestions_'+arr_id[i]+'_comment').val("No comment - "+i); 
    }
  });

/*
  $('input#but_finish').mousedown(function() {
    for(i=0;i<num;i++) {
         $('#interviewquestions_'+arr_id[i]+'_comment').val("No comment - "+i); 
    }
  });


  $('input#but_finish').mouseup(function() {
    for(i=0;i<num;i++) {
         $('#interviewquestions_'+arr_id[i]+'_comment').val("No comment - "+i); 
    }
  });


  $('input#but_finish').click(function() {
    //arr_comments[num_i-1]=($('#comm'+id_num[num_i-1]).val()).toString;
    //alert('id='+num_li+' | arr='+arr_comments);
    
    //for(i=0;i<id_num.length;i++) 
    //  { arr_comments[i]=String($('#comm'+id_num[i]).val()); }
    
      //alert('id='+num_i+' | arr='+arr_comments);

    for(i=0;i<num;i++) {

    //$('#comm'+id_num[i]).html(i.toString()); 
     
      //if ( arr_comments[i]==' ' ) 
        //{
         $('#interviewquestions_'+arr_id[i]+'_comment').val("No comment - "+i); 
       //} else { $('#interviewquestions_'+arr_id[i]+'_comment').html(arr_comments[i]); } 
      
      /*if ($('#rad1'+id_num[i]).prop("checked") 
        && $('#rad2'+id_num[i]).prop("checked") 
        && $('#rad3'+id_num[i]).prop("checked")) 
         { $('#rad3'+id_num[i]).prop("checked",true);}
          }   
  });*/
  

//$('button#help1').click(function() { alert(arr_comments+' | '+arr_marks); });


  //alert('num='+num+', start='+start);

  /*$('#workflow textarea').click(function() {
    text_a = $(this).val();
    //alert(text_a);
  });*/

  /*$("input[value='Finish interview']").click(function() {
    alert('num='+num+', start='+start);
    start=arr_id[0];
    $('#workflow div class.form-group form#edit_interview_question_'+start+' textarea').html('v v s');
    //alert(ta);
  });

/*
  for(i=1;i<=num;i++) { arr_id.push(start); start+=1; }
  //alert('num='+num+', start='+start);
  //start=arr_id[0];
  num=1;

  $("#workflow div div div").attr("id","pagin1");
  /*
  $(document).on('click','#but1' function(){
    //arr_comments[num-1] = $("#workflow #"+str+start+" textarea").val();
    //var a=arr_comments[num-1];
    alert('BUTTON');
  });


  $('.pagination a').click(function(){
    //arr_comments[num-1] = $("#workflow #"+str+start+" textarea").val();
    //var a=arr_comments[num-1];
    alert('aaa');
  });

  //var s1=$('div div.form-group form#edit_interview_question_'+start+' textarea');
  //s1.addEventListener("click", function(){alert('texarea');}, true);

  $('#workflow h3').click(function() {
        alert('h3 - good');
  });



/*
  $('#tabs ul li a').click(function() {
    tab = $(this).html();
    arr_comments[num-1] = $("div#tabs div#tabs-"+num+" textarea").val();
    num = parseInt(tab);
     
    if (arr_marks[num-1] == 'green') $("#mark_green-"+num).prop("checked",true);
    if (arr_marks[num-1] == 'red') $("#mark_red-"+num).prop("checked",true);
    if (arr_marks[num-1] == 'yellow') $("#mark_yellow-"+num).prop("checked",true);
  });

  $("#tabs input[name='mark']").click(function() {
    var id_radio = $(this).attr("id");
    var color_radio = id_radio.charAt(5);
    if (color_radio=='g') { arr_marks[parseInt(id_radio.slice(11))-1]='green'; color='green'; }
    if (color_radio=='y') { arr_marks[parseInt(id_radio.slice(12))-1]='yellow'; color='yellow'; }
    if (color_radio=='r') { arr_marks[parseInt(id_radio.slice(9))-1]='red'; color='red'; }
    $("a#ui-id-"+num).css("background",color);
  });


 */
});
